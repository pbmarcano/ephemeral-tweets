<% cache [tweet, tweet.user.setting, Date.today], expires_in: 24.hours.to_i do %>
  <li id="<%= dom_id tweet %>" class="px-6 py-4">
    <div class="flex space-x-3">
      <div class="shrink-0 mt-1">
        <%= image_tag tweet.profile_image, class: "h-10 w-10 rounded-full" %>
      </div>
      <div class="w-full">
        <div class="flex justify-between items-baseline">
          <div>
            <span class="font-bold text-gray-900 dark:text-gray-200">
              <%= tweet.name %>
            </span>
            <a href="https://twitter.com/<%= tweet.username %>" target="_blank" class="text-gray-600 hover:underline dark:text-gray-400">
              @<%= sanitize tweet.username %>
            </a>
          </div>
          <div class="text-gray-500 dark:text-gray-400 font-medium">
            <%= date_link_to(tweet) %>
          </div>
        </div>
        <div class="mt-1 text-sm text-gray-700 dark:text-gray-300">
          <p><%= sanitize tweet.full_text %></p>
        </div>
        <div class="mt-8 text-sm space-x-2 flex justify-between">
          <div class="flex space-x-10 text-gray-500 dark:text-gray-400">
            <div class="flex items-center space-x-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
              </svg>
              <div><%= number_to_human(tweet.reply_count, units: { thousand: "k", million: "m" }, format: "%n%u") %></div>
            </div>

            <div class="flex items-center space-x-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
              </svg>
              <div><%= number_to_human(tweet.retweet_count , units: { thousand: "K", million: "M" }, format: "%n%u") %></div>
            </div>

            <div class="flex items-center space-x-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              </svg>
              <div><%= number_to_human(tweet.favorite_count, units: { thousand: "k", million: "m" }, format: "%n%u") %></div>
            </div>
          </div>
          <div>
            <button type="button" class="dark:font-medium">
              <%= delete_now_link(tweet) %>
            </button>
            <span class="text-gray-500 dark:text-gray-400 font-medium">&middot;</span>
            <span class="text-gray-500 dark:text-gray-400 font-medium">
              <%= save_tweet(tweet) %>
            </span> 
          </div>
        </div>
      </div>
    </div>
  </li>
<% end %>
